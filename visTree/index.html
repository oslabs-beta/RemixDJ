<!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.2/d3.min.js"></script>
<head>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<h2>D3.js is Easy to Use</h2>
<p>The script below selects the body element and appends a paragraph with the text "Hello World!":</p> 

<script>

// sample data from window.__remixManifest.routes of remix docs page
const remixManifest = {
    "root": {
        "id": "root",
        "path": "",
        "module": "/build/root-ZBV4FVNT.js",
        "imports": [
            "/build/_shared/chunk-EX2XTFB7.js",
            "/build/_shared/chunk-YGNTORY2.js",
            "/build/_shared/chunk-H4XDEQIU.js",
            "/build/_shared/chunk-6O6KSYWM.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": true,
        "hasErrorBoundary": true
    },
    "routes/$": {
        "id": "routes/$",
        "parentId": "root",
        "path": "*",
        "module": "/build/routes/$-6DOKE334.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/__marketing": {
        "id": "routes/__marketing",
        "parentId": "root",
        "module": "/build/routes/__marketing-MB3AO37U.js",
        "imports": [
            "/build/_shared/chunk-CUD6BM7Z.js",
            "/build/_shared/chunk-T6UHM453.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-PZA4B6MT.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/__marketing/index": {
        "id": "routes/__marketing/index",
        "parentId": "routes/__marketing",
        "index": true,
        "module": "/build/routes/__marketing/index-DFJBYJNB.js",
        "imports": [
            "/build/_shared/chunk-FFGUPDIH.js",
            "/build/_shared/chunk-DXF33BDT.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-O6VM4UWD.js",
            "/build/_shared/chunk-YGNTORY2.js",
            "/build/_shared/chunk-5XLFFDES.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/__marketing/newsletter": {
        "id": "routes/__marketing/newsletter",
        "parentId": "routes/__marketing",
        "path": "newsletter",
        "module": "/build/routes/__marketing/newsletter-EXO55OGO.js",
        "imports": [
            "/build/_shared/chunk-PXEPIIT2.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/_actions/color-scheme": {
        "id": "routes/_actions/color-scheme",
        "parentId": "root",
        "path": "_actions/color-scheme",
        "module": "/build/routes/_actions/color-scheme-IWP37WPU.js",
        "hasAction": true,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/_actions/newsletter": {
        "id": "routes/_actions/newsletter",
        "parentId": "root",
        "path": "_actions/newsletter",
        "module": "/build/routes/_actions/newsletter-HQNC7SWS.js",
        "hasAction": true,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/_docs/routing": {
        "id": "routes/_docs/routing",
        "parentId": "root",
        "path": "_docs/routing",
        "module": "/build/routes/_docs/routing-TLQV2VNJ.js",
        "imports": [
            "/build/_shared/chunk-DXF33BDT.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-O6VM4UWD.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/_docs/routing-index": {
        "id": "routes/_docs/routing-index",
        "parentId": "root",
        "path": "_docs/routing-index",
        "module": "/build/routes/_docs/routing-index-ECTA4WSS.js",
        "imports": [
            "/build/_shared/chunk-O6VM4UWD.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/blog": {
        "id": "routes/blog",
        "parentId": "root",
        "path": "blog",
        "module": "/build/routes/blog-2RN2XVRS.js",
        "imports": [
            "/build/_shared/chunk-3ZDG6LZX.js",
            "/build/_shared/chunk-CUD6BM7Z.js",
            "/build/_shared/chunk-PXEPIIT2.js",
            "/build/_shared/chunk-T6UHM453.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-PZA4B6MT.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/blog.$slug": {
        "id": "routes/blog.$slug",
        "parentId": "root",
        "path": "blog/:slug",
        "module": "/build/routes/blog.$slug-3JLXCY2R.js",
        "imports": [
            "/build/_shared/chunk-3ZDG6LZX.js",
            "/build/_shared/chunk-CUD6BM7Z.js",
            "/build/_shared/chunk-PXEPIIT2.js",
            "/build/_shared/chunk-T6UHM453.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-PZA4B6MT.js",
            "/build/_shared/chunk-LFX2IE7L.js",
            "/build/_shared/chunk-5XLFFDES.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf": {
        "id": "routes/conf",
        "parentId": "root",
        "path": "conf",
        "module": "/build/routes/conf-CFPB7Y34.js",
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022": {
        "id": "routes/conf/2022",
        "parentId": "routes/conf",
        "path": "2022",
        "module": "/build/routes/conf/2022-6BLUYI2U.js",
        "imports": [
            "/build/_shared/chunk-MTE7H64H.js",
            "/build/_shared/chunk-PPEMELPW.js",
            "/build/_shared/chunk-PXEPIIT2.js",
            "/build/_shared/chunk-T6UHM453.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-PZA4B6MT.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/_ui": {
        "id": "routes/conf/2022/_ui",
        "parentId": "routes/conf/2022",
        "path": "_ui",
        "module": "/build/routes/conf/2022/_ui-XTKEIDC4.js",
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/coc": {
        "id": "routes/conf/2022/coc",
        "parentId": "routes/conf/2022",
        "path": "coc",
        "module": "/build/routes/conf/2022/coc-BBVFEXQ7.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/discord": {
        "id": "routes/conf/2022/discord",
        "parentId": "routes/conf/2022",
        "path": "discord",
        "module": "/build/routes/conf/2022/discord-IGICIWBO.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/index": {
        "id": "routes/conf/2022/index",
        "parentId": "routes/conf/2022",
        "index": true,
        "module": "/build/routes/conf/2022/index-2BG6BN7C.js",
        "imports": [
            "/build/_shared/chunk-SDP7EJ2I.js",
            "/build/_shared/chunk-FFGUPDIH.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/safety": {
        "id": "routes/conf/2022/safety",
        "parentId": "routes/conf/2022",
        "path": "safety",
        "module": "/build/routes/conf/2022/safety-QPP4XNRT.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/schedule": {
        "id": "routes/conf/2022/schedule",
        "parentId": "routes/conf/2022",
        "path": "schedule",
        "module": "/build/routes/conf/2022/schedule-V2DIZPG7.js",
        "imports": [
            "/build/_shared/chunk-IIPYZJCY.js",
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/schedule/index": {
        "id": "routes/conf/2022/schedule/index",
        "parentId": "routes/conf/2022/schedule",
        "index": true,
        "module": "/build/routes/conf/2022/schedule/index-HNRQMVJL.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/schedule/may-24": {
        "id": "routes/conf/2022/schedule/may-24",
        "parentId": "routes/conf/2022/schedule",
        "path": "may-24",
        "module": "/build/routes/conf/2022/schedule/may-24-JTFUA4EO.js",
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/schedule/may-25": {
        "id": "routes/conf/2022/schedule/may-25",
        "parentId": "routes/conf/2022/schedule",
        "path": "may-25",
        "module": "/build/routes/conf/2022/schedule/may-25-E5OBA64B.js",
        "imports": [
            "/build/_shared/chunk-FNRT65PV.js",
            "/build/_shared/chunk-SDP7EJ2I.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/schedule/may-26": {
        "id": "routes/conf/2022/schedule/may-26",
        "parentId": "routes/conf/2022/schedule",
        "path": "may-26",
        "module": "/build/routes/conf/2022/schedule/may-26-XS2CVURD.js",
        "imports": [
            "/build/_shared/chunk-T6UHM453.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/speakers/$speakerSlug": {
        "id": "routes/conf/2022/speakers/$speakerSlug",
        "parentId": "routes/conf/2022",
        "path": "speakers/:speakerSlug",
        "module": "/build/routes/conf/2022/speakers/$speakerSlug-QLLNMG4G.js",
        "imports": [
            "/build/_shared/chunk-DOAJOJIB.js",
            "/build/_shared/chunk-FNRT65PV.js",
            "/build/_shared/chunk-SDP7EJ2I.js",
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": true,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/speakers/index": {
        "id": "routes/conf/2022/speakers/index",
        "parentId": "routes/conf/2022",
        "path": "speakers",
        "index": true,
        "module": "/build/routes/conf/2022/speakers/index-VYAJWDJL.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/sponsor": {
        "id": "routes/conf/2022/sponsor",
        "parentId": "routes/conf/2022",
        "path": "sponsor",
        "module": "/build/routes/conf/2022/sponsor-GIWN4DUQ.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/venue": {
        "id": "routes/conf/2022/venue",
        "parentId": "routes/conf/2022",
        "path": "venue",
        "module": "/build/routes/conf/2022/venue-W5QIYXUL.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2022/workshops": {
        "id": "routes/conf/2022/workshops",
        "parentId": "routes/conf/2022",
        "path": "workshops",
        "module": "/build/routes/conf/2022/workshops-EJWTTSYX.js",
        "imports": [
            "/build/_shared/chunk-XTKNLUKZ.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023": {
        "id": "routes/conf/2023",
        "parentId": "routes/conf",
        "path": "2023",
        "module": "/build/routes/conf/2023-6Q2U2BNA.js",
        "imports": [
            "/build/_shared/chunk-MTE7H64H.js",
            "/build/_shared/chunk-PPEMELPW.js",
            "/build/_shared/chunk-PXEPIIT2.js",
            "/build/_shared/chunk-T6UHM453.js",
            "/build/_shared/chunk-AH3OMDKB.js",
            "/build/_shared/chunk-23EETY7Z.js",
            "/build/_shared/chunk-PZA4B6MT.js",
            "/build/_shared/chunk-H4XDEQIU.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/__inner": {
        "id": "routes/conf/2023/__inner",
        "parentId": "routes/conf/2023",
        "module": "/build/routes/conf/2023/__inner-6W3DBIG4.js",
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/__inner/schedule": {
        "id": "routes/conf/2023/__inner/schedule",
        "parentId": "routes/conf/2023/__inner",
        "path": "schedule",
        "module": "/build/routes/conf/2023/__inner/schedule-NRRMXVDU.js",
        "imports": [
            "/build/_shared/chunk-WG6VQHU6.js",
            "/build/_shared/chunk-FNRT65PV.js",
            "/build/_shared/chunk-IIPYZJCY.js",
            "/build/_shared/chunk-PPEMELPW.js",
            "/build/_shared/chunk-H4XDEQIU.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/__inner/speakers/$speakerSlug": {
        "id": "routes/conf/2023/__inner/speakers/$speakerSlug",
        "parentId": "routes/conf/2023/__inner",
        "path": "speakers/:speakerSlug",
        "module": "/build/routes/conf/2023/__inner/speakers/$speakerSlug-LCXZPVB3.js",
        "imports": [
            "/build/_shared/chunk-WG6VQHU6.js",
            "/build/_shared/chunk-DOAJOJIB.js",
            "/build/_shared/chunk-5XLFFDES.js",
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/__inner/speakers/index": {
        "id": "routes/conf/2023/__inner/speakers/index",
        "parentId": "routes/conf/2023/__inner",
        "path": "speakers",
        "index": true,
        "module": "/build/routes/conf/2023/__inner/speakers/index-QZIPTN2R.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/__inner/sponsor": {
        "id": "routes/conf/2023/__inner/sponsor",
        "parentId": "routes/conf/2023/__inner",
        "path": "sponsor",
        "module": "/build/routes/conf/2023/__inner/sponsor-PBP6OD2U.js",
        "imports": [
            "/build/_shared/chunk-H4XDEQIU.js"
        ],
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/coc": {
        "id": "routes/conf/2023/coc",
        "parentId": "routes/conf/2023",
        "path": "coc",
        "module": "/build/routes/conf/2023/coc-ED2D7MY7.js",
        "hasAction": false,
        "hasLoader": false,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/2023/index": {
        "id": "routes/conf/2023/index",
        "parentId": "routes/conf/2023",
        "index": true,
        "module": "/build/routes/conf/2023/index-MKTEWWUW.js",
        "imports": [
            "/build/_shared/chunk-WG6VQHU6.js",
            "/build/_shared/chunk-SDP7EJ2I.js",
            "/build/_shared/chunk-FFGUPDIH.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/conf/index": {
        "id": "routes/conf/index",
        "parentId": "routes/conf",
        "index": true,
        "module": "/build/routes/conf/index-CSTC6P6H.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/docs/$lang.$ref": {
        "id": "routes/docs/$lang.$ref",
        "parentId": "root",
        "path": "docs/:lang/:ref",
        "module": "/build/routes/docs/$lang.$ref-HJJ6SZ2F.js",
        "imports": [
            "/build/_shared/chunk-PZA4B6MT.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/docs/$lang.$ref/$": {
        "id": "routes/docs/$lang.$ref/$",
        "parentId": "routes/docs/$lang.$ref",
        "path": "*",
        "module": "/build/routes/docs/$lang.$ref/$-GTURG6Q5.js",
        "imports": [
            "/build/_shared/chunk-7WZLORMZ.js",
            "/build/_shared/chunk-LFX2IE7L.js",
            "/build/_shared/chunk-5XLFFDES.js",
            "/build/_shared/chunk-H4XDEQIU.js",
            "/build/_shared/chunk-6O6KSYWM.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": true,
        "hasErrorBoundary": false
    },
    "routes/docs/$lang.$ref/index": {
        "id": "routes/docs/$lang.$ref/index",
        "parentId": "routes/docs/$lang.$ref",
        "index": true,
        "module": "/build/routes/docs/$lang.$ref/index-HG2VH2YO.js",
        "imports": [
            "/build/_shared/chunk-7WZLORMZ.js",
            "/build/_shared/chunk-LFX2IE7L.js",
            "/build/_shared/chunk-5XLFFDES.js",
            "/build/_shared/chunk-H4XDEQIU.js",
            "/build/_shared/chunk-6O6KSYWM.js",
            "/build/_shared/chunk-7QLVLIBI.js"
        ],
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/docs/index": {
        "id": "routes/docs/index",
        "parentId": "root",
        "path": "docs",
        "index": true,
        "module": "/build/routes/docs/index-HX3GSAR3.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/healthcheck": {
        "id": "routes/healthcheck",
        "parentId": "root",
        "path": "healthcheck",
        "module": "/build/routes/healthcheck-BQ2SXEZN.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    },
    "routes/img/social": {
        "id": "routes/img/social",
        "parentId": "root",
        "path": "img/social",
        "module": "/build/routes/img/social-PS45F64V.js",
        "hasAction": false,
        "hasLoader": true,
        "hasCatchBoundary": false,
        "hasErrorBoundary": false
    }
}


// This makes an array of arrays of the keys of the remixManifest broken up into an array based off splitting it up 
// Wherever a '/' is (AKA splitting it by the path). Will reformat this in a bit to work with v2 of remix and all the 
// other route naming conventions
let myKeys = [];
for (const key in remixManifest) {
    // Root is omitted as root exists in all projects and will be hard coded into tree object
    if (key !== 'root') {
        myKeys.push(key.split(/[/.]/));
    }
}

console.log(myKeys);

// The newObj which will contain all of our routes. Starts with a root which has children which will house the routes.
let newObj = {
    'name': 'root',
    'children': []
}


for (let i = 0; i < myKeys.length; i++) {
    // Whenever we go to a new path we start by parsing through the roots children and go deeper when we need to
    // This is just a string now so it can be manipulated easily later
    let pathString = 'newObj.children';
    for (let j = 0; j < myKeys[i].length; j++) {
        // Now we evaluate the pathString as an actual JS command with eval
        let path = eval(pathString);
        // This checks if in the current path there is an object with a name key with the value of the current route we are on
        // If this is not true we then push the object to the current childrens array
        if (!(path.find(e => e.name === myKeys[i][j]))) {
            path.push({'name': myKeys[i][j], 'children': []});
        }
        // We then check where in the current children array the object with the path we are on is
        // We save that in numbah!
        let numbah;
        for (let k = 0; k < path.length; k++) {
            if (path[k].name === myKeys[i][j]) {
                numbah = k;
            }
        }
        // Then using numbah and some string manipulation we go deeper into the object by adding that numbah and the .children notation
        // So that when we go back through the second loop again we are now one deeper into it which is what we want.
        pathString += `[${numbah}]` + '.children';
    }
}

// Now just reassign newObj to treeData so that we can do some D3 magic with it. This is kinda repetitive.
const treeData = newObj;


const margin = {top: 20, right: 90, bottom: 30, left: 90},
      width  = 660 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;


const treemap = d3.tree().size([height, width]);
let nodes = d3.hierarchy(treeData, d => d.children);
nodes = treemap(nodes);

const svg = d3.select("body").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom),
      g = svg.append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");


const node = g.selectAll(".node")
      .data(nodes.descendants())
   .enter().append("g")
      .attr("class", d => "node" + (d.children ? " node--internal"
         : " node--leaf"))
      .attr("transform", d => "translate(" + d.y + "," +
         d.x + ")");

const link = g.selectAll(".link")
      .data(nodes.descendants().slice(1))
      .enter().append("path")
      .attr("class", "link")
      .style("stroke", d => d.data.level)
      .attr("d", d => {
          return "M" + d.y + "," + d.x
             + "C" + (d.y + d.parent.y) / 2 + "," + d.x
             + " " + (d.y + d.parent.y) / 2 + "," + d.parent.x
             + " " + d.parent.y + "," + d.parent.x;
      });

node.append("circle")
   .attr("r", d => d.data.value)
   .style("stroke", d => d.data.type)
   .style("fill", d => d.data.level);

node.append("text")
   .attr("dy", ".35em")
   .attr("x", d => d.children ? (d.data.value + 5) * -1 :
      d.data.value + 5)
   .attr("y", d => d.children && d.depth !== 0 ?
      -(d.data.value + 5) : d)
   .style("text-anchor", d => d.children ? "end" : "start")
   .text(d => d.data.name);









// const treeData = {
    //   name: 'root',
    //   value: 7.5,
    //   type: 'grey',
    //   level: 'black',
    //   children: [
    //     {
    //       name: '$',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: '__marketing',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [
    //         {
    //           name: 'index',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [],
    //         },
    //         {
    //           name: 'newsletter',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [],
    //         },
    //       ],
    //     },
    //     {
    //       name: '_actions/color-scheme',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: '_actions/newsletter',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: '_docs/routing',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: '_docs/routing-index',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: 'blog',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: 'blog.$slug',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: 'conf',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [
    //         {
    //           name: '2022',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [
    //             {
    //               name: '_ui',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'coc',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'discord',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'index',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'safety',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'schedule',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [
    //                 {
    //                   name: 'index',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'may-24',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'may-25',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'may-26',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //               ],
    //             },
    //             {
    //               name: 'speakers/$speakerSlug',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'speakers/index',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'sponsor',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'venue',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'workshops',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //           ],
    //         },
    //         {
    //           name: '2023',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [
    //             {
    //               name: '__inner',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [
    //                 {
    //                   name: 'schedule',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'speakers/$speakerSlug',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'speakers/index',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //                 {
    //                   name: 'sponsor',
    //                   value: 7.5,
    //                   type: 'grey',
    //                   level: 'black',
    //                   children: [],
    //                 },
    //               ],
    //             },
    //             {
    //               name: 'coc',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //             {
    //               name: 'index',
    //               value: 7.5,
    //               type: 'grey',
    //               level: 'black',
    //               children: [],
    //             },
    //           ],
    //         },
    //         {
    //           name: 'index',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [],
    //         },
    //       ],
    //     },
    //     {
    //       name: 'docs/$lang.$ref',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [
    //         {
    //           name: '$',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [],
    //         },
    //         {
    //           name: 'index',
    //           value: 7.5,
    //           type: 'grey',
    //           level: 'black',
    //           children: [],
    //         },
    //       ],
    //     },
    //     {
    //       name: 'docs/index',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: 'healthcheck',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //     {
    //       name: 'img/social',
    //       value: 7.5,
    //       type: 'grey',
    //       level: 'black',
    //       children: [],
    //     },
    //   ],
    // };
    console.log(treeData);
    // const treeData = {
    //     "name": "Users",
    //     "value": 15,
    //     "type": "black",
    //     "level": "yellow",
    //     "children": [
    //         {
    //             "name": "Victoria",
    //             "value": 10,
    //             "type": "grey",
    //             "level": "red",
    //             "children": [
    //                 {
    //                     "name": "rental",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "orange"
    //                 },
    //                 {
    //                     "name": "index",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "purple"
    //                 },
    //                 {
    //                     "name": "host",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "black"
    //                 }
    //             ]
    //         },
    //         {
    //             "name": "Tim",
    //             "value": 10,
    //             "type": "grey",
    //             "level": "blue",
    //             "children": [
    //                 {
    //                     "name": "rental",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "orange"
    //                 },
    //                 {
    //                     "name": "index",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "purple"
    //                 },
    //                 {
    //                     "name": "host",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "black"
    //                 }
    //             ]
    //         },
    //         {
    //             "name": "Matt",
    //             "value": 10,
    //             "type": "grey",
    //             "level": "green",
    //             "children": [
    //                 {
    //                     "name": "rental",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "orange"
    //                 },
    //                 {
    //                     "name": "index",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "purple"
    //                 },
    //                 {
    //                     "name": "host",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "black"
    //                 }
    //             ]
    //         },
    //         {
    //             "name": "Adam",
    //             "value": 10,
    //             "type": "grey",
    //             "level": "grey",
    //             "children": [
    //                 {
    //                     "name": "rental",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "orange"
    //                 },
    //                 {
    //                     "name": "index",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "purple"
    //                 },
    //                 {
    //                     "name": "host",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "black"
    //                 }
    //             ]
    //         },
    //         {
    //             "name": "Molly",
    //             "value": 10,
    //             "type": "grey",
    //             "level": "pink",
    //             "children": [
    //                 {
    //                     "name": "rental",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "orange"
    //                 },
    //                 {
    //                     "name": "index",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "purple"
    //                 },
    //                 {
    //                     "name": "host",
    //                     "value": 7.5,
    //                     "type": "grey",
    //                     "level": "black"
    //                 }
    //             ]
    //         },
    //     ]
    // };


</script>

</body>
</html>


